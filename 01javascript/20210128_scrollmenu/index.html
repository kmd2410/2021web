<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/reset.css">
    <script src="../js/jquery-3.1.1.min.js"></script>
    <script>
        $(function(){
            //num.1
            // let oneTop = $("#v01s").offset().top;
            // let twoTop = $("#v02s").offset().top;
            // let threeTop = $("#v03s").offset().top;

            // $(".menu>a").eq(0).click(function(){
            //     $("html").animate({scrollTop:oneTop},300);
            // });
            // $(".menu>a").eq(1).click(function(){
            //     $("html").animate({scrollTop:twoTop},300);
            // });
            // $(".menu>a").eq(2).click(function(){
            //     $("html").animate({scrollTop:threeTop},300);
            // });
            
            //num.2 use index(),eq()
            // let menu = $(".menu>a");
            // let section = $(".scene");

            // menu.click(function(){
            //     let i = $(this).index();
            //     let st = section.eq(i).offset().top;
            //     $("html").animate({scrollTop:st},300);
            //     $(this).addClass("on");
            // });
            
            //num.3 use hash
            $(".menu>a").click(function(){
                let target = $(this.hash)
                console.log(target);
                let st = target.offset().top;
                $("html").animate({scrollTop:st},300);
            });

            $(window).scroll(function(){
                let scrollY = $(window).scrollTop();
                
                //num1.on
                // if($(".scene").eq(0).offset().top <= scrollY){
                //     $(".menu>a").removeClass("on").eq(0).addClass("on");
                // }
                // if($(".scene").eq(1).offset().top <= scrollY){
                //     $(".menu>a").removeClass("on").eq(1).addClass("on");
                // }
                // if($(".scene").eq(2).offset().top <= scrollY){
                //     $(".menu>a").removeClass("on").eq(2).addClass("on");
                // }
                
                //num2.on
                // for(let i=0;i<3;i++){
                //     if($(".scene").eq(i).offset().top <= scrollY){
                //         $(".menu>a").removeClass("on").eq(i).addClass("on");
                //     }
                // };

                //num3.on
                $(".scene").each(function(index){
                    if(scrollY >= $(this).offset().top){
                        $(".menu>a").removeClass("on").eq(index).addClass("on");
                    }
                });
            });

            
            
        });
    </script>
    <style>
        html,body{height: 100%;}
        .scene{width: 100%; height: 100%; background-attachment: fixed; background-position: center;
            background-repeat: no-repeat; background-size: cover; -webkit-background-size:cover; position: relative;}
        .scene.one{background-image: url(../images/pc01.jpg);}
        .scene.two{background-image: url(../images/pc02.jpg);}
        .scene.three{background-image: url(../images/pc03.jpg);}
        
        .scene div{width: 600px; position: absolute; left: 50%; top: 50%;
            transform: translate(-50%,-50%); color: white;}
        .scene h1:after{content: ""; display: block; width: 100%; height: 1px; background: #fff; margin: 0 auto;}
        .menu{position: fixed; width: 100%; background: skyblue; padding-left: 30px; z-index: 1;}
        .menu a{display: inline-block; line-height: 40px; width: 100px;text-align: center;}
        .menu a.on,.menu a:hover{background: red; color: white;}
    </style>
</head>
<body>
    <nav class="menu">
        <a href="#v01s">menu1</a>
        <a href="#v02s">menu2</a>
        <a href="#v03s">menu3</a>
    </nav>
    <section class="scene one" id="v01s">
        <div>
            <h1>Lorem ipsum dolor sit amet.</h1>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Esse ea reprehenderit distinctio molestiae dolore officia, nihil quibusdam nisi consequatur, quas eligendi veritatis reiciendis quaerat repellendus sit facilis debitis, voluptatibus rerum.</p>
        </div>
    </section>
    <section class="scene two" id="v02s">
        <div>
            <h1>Lorem ipsum dolor sit amet.</h1>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Esse ea reprehenderit distinctio molestiae dolore officia, nihil quibusdam nisi consequatur, quas eligendi veritatis reiciendis quaerat repellendus sit facilis debitis, voluptatibus rerum.</p>
        </div>
    </section>
    <section class="scene three" id="v03s">
        <div>
            <h1>Lorem ipsum dolor sit amet.</h1>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Esse ea reprehenderit distinctio molestiae dolore officia, nihil quibusdam nisi consequatur, quas eligendi veritatis reiciendis quaerat repellendus sit facilis debitis, voluptatibus rerum.</p>
        </div>
    </section>
</body>
</html>